# Yazi 终端文件管理器使用指南

## 基础操作

### 导航操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `h` / `←` | 返回上级目录 | 向上导航目录层级 |
| `j` / `↓` | 向下移动光标 | 浏览文件列表 |
| `k` / `↑` | 向上移动光标 | 浏览文件列表 |
| `l` / `→` | 进入目录/打开文件 | 向下导航或打开文件 |
| `g` `g` | 跳转到列表顶部 | 快速定位到第一个文件 |
| `G` | 跳转到列表底部 | 快速定位到最后一个文件 |
| `J` | 预览窗格向下滚动5行 | 查看长文件内容 |
| `K` | 预览窗格向上滚动5行 | 查看长文件内容 |

### 文件选择操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `Space` | 切换当前文件选择状态 | 选择/取消选择单个文件 |
| `v` | 进入可视模式（选择模式） | 批量选择文件 |
| `V` | 进入可视模式（取消选择模式） | 批量取消选择文件 |
| `Ctrl+a` | 选择所有文件 | 全选当前目录文件 |
| `Ctrl+r` | 反选所有文件 | 反转选择状态 |
| `Esc` | 取消选择/退出模式 | 清除选择状态或退出当前模式 |

### 文件操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `o` / `Enter` | 打开选中文件 | 使用默认程序打开文件 |
| `O` / `Shift+Enter` | 交互式打开文件 | 选择打开方式 |
| `y` | 复制（拷贝）选中文件 | 准备复制文件到其他位置 |
| `x` | 剪切选中文件 | 准备移动文件到其他位置 |
| `p` | 粘贴文件 | 执行复制或移动操作 |
| `P` | 强制粘贴文件 | 覆盖目标位置同名文件 |
| `Y` / `X` | 取消复制/剪切状态 | 清除剪贴板状态 |
| `d` | 删除到回收站 | 安全删除文件 |
| `D` | 永久删除文件 | 彻底删除文件（不可恢复） |
| `a` | 创建文件/目录 | 新建文件或目录（以/结尾为目录） |
| `r` | 重命名文件 | 修改文件名或批量重命名 |

### 路径复制操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `c` `c` | 复制文件完整路径 | 获取文件绝对路径 |
| `c` `d` | 复制目录路径 | 获取文件所在目录路径 |
| `c` `f` | 复制文件名 | 获取完整文件名 |
| `c` `n` | 复制文件名（无扩展名） | 获取不含扩展名的文件名 |

## 高级功能

### 搜索和过滤

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `f` | 过滤文件 | 按名称过滤显示文件 |
| `/` | 向前查找文件 | 在当前目录中查找文件 |
| `?` | 向后查找文件 | 反向查找文件 |
| `n` | 跳转到下一个匹配项 | 查找结果导航 |
| `N` | 跳转到上一个匹配项 | 查找结果导航 |
| `s` | 按名称搜索文件（使用fd） | 递归搜索文件名 |
| `S` | 按内容搜索文件（使用ripgrep） | 搜索文件内容 |
| `Ctrl+s` | 取消正在进行的搜索 | 停止搜索操作 |

### 排序操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `,` `m` | 按修改时间排序 | 查看最近修改的文件 |
| `,` `M` | 按修改时间排序（倒序） | 查看最早修改的文件 |
| `,` `s` | 按文件大小排序 | 查找大文件或小文件 |
| `,` `S` | 按文件大小排序（倒序） | 按大小倒序排列 |
| `,` `e` | 按文件扩展名排序 | 按文件类型分组 |
| `,` `E` | 按文件扩展名排序（倒序） | 按文件类型倒序分组 |
| `,` `a` | 按字母顺序排序 | 标准字母排序 |
| `,` `A` | 按字母顺序排序（倒序） | 字母倒序排序 |
| `,` `n` | 按自然顺序排序 | 数字文件名正确排序 |
| `,` `N` | 按自然顺序排序（倒序） | 数字文件名倒序排序 |
| `,` `r` | 随机排序 | 随机浏览文件 |

## 标签页管理

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `t` | 创建新标签页 | 在当前目录新建标签 |
| `1`-`9` | 切换到第N个标签页 | 快速切换标签页 |
| `[` | 切换到上一个标签页 | 标签页导航 |
| `]` | 切换到下一个标签页 | 标签页导航 |
| `{` | 与上一个标签页交换位置 | 调整标签页顺序 |
| `}` | 与下一个标签页交换位置 | 调整标签页顺序 |
| `Ctrl+c` | 关闭当前标签页 | 关闭不需要的标签页 |

## 系统操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `q` | 退出yazi | 正常退出程序 |
| `Q` | 退出但不改变工作目录 | 退出但保持原目录 |
| `;` | 运行shell命令 | 执行系统命令 |
| `:` | 运行shell命令（阻塞） | 执行需要等待的命令 |
| `Tab` | 显示文件信息 | 查看文件详细信息 |
| `.` | 切换隐藏文件显示 | 显示/隐藏以.开头的文件 |
| `F1` / `~` | 打开帮助菜单 | 查看快捷键帮助 |

## 特殊功能

### 链接操作

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `-` | 创建绝对路径符号链接 | 创建指向复制文件的符号链接 |
| `_` | 创建相对路径符号链接 | 创建相对路径符号链接 |
| `Ctrl+-` | 创建硬链接 | 创建硬链接到复制的文件 |

### 快速导航

| 快捷键 | 功能描述 | 使用场景 |
|--------|----------|----------|
| `z` | 使用fzf进入目录 | 模糊搜索并进入目录 |
| `Z` | 使用zoxide进入目录 | 智能目录跳转 |

## 实用技巧

### Shell包装器设置
建议使用`y`命令替代`yazi`，这样退出时会自动切换到yazi中的当前目录：

```bash
# 添加到 ~/.bashrc 或 ~/.zshrc
function y() {
    local tmp="$(mktemp -t "yazi-cwd.XXXXXX")" cwd
    yazi "$@" --cwd-file="$tmp"
    IFS= read -r -d '' cwd < "$tmp"
    [ -n "$cwd" ] && [ "$cwd" != "$PWD" ] && builtin cd -- "$cwd"
    rm -f -- "$tmp"
}
```

### 常用操作流程

1. **批量文件操作**：
   - 使用`Space`或`v`选择多个文件
   - 使用`y`复制或`x`剪切
   - 导航到目标目录
   - 使用`p`粘贴

2. **快速查找文件**：
   - 使用`s`按名称搜索
   - 使用`S`按内容搜索
   - 使用`f`过滤当前目录

3. **多目录工作**：
   - 使用`t`创建新标签页
   - 使用数字键快速切换标签页
   - 在不同标签页间复制粘贴文件

### 预览功能
- yazi支持多种文件预览，包括图片、视频、PDF、代码等
- 预览窗格会自动显示在右侧
- 使用`J`/`K`可以滚动预览内容

这份指南涵盖了yazi的核心功能和常用操作，帮助您快速掌握这个强大的终端文件管理器。
